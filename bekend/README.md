# The Pivo Backend

Бэкенд-сервер для приложения The Pivo, обеспечивающий все необходимые API и функциональность.

## Требования

- Node.js >= 14.0.0
- MongoDB >= 4.4
- Redis >= 6.0
- Docker (опционально)

## Установка

1. Клонировать репозиторий:
```bash
git clone <repository-url>
cd bekend
```

2. Установить зависимости:
```bash
npm install
```

3. Создать файл .env:
```bash
cp .env.example .env
```

4. Настроить переменные окружения в файле .env

## Запуск

### Разработка
```bash
npm run dev
```

### Продакшн
```bash
npm start
```

### Docker
```bash
docker-compose up -d
```

## API Документация

API документация доступна по адресу `/api-docs` после запуска сервера.

## Мониторинг

- Метрики Prometheus: `/metrics`
- Grafana дашборд: `http://localhost:3000`

## Структура проекта

```
bekend/
├── src/
│   ├── config/         # Конфигурации
│   ├── controllers/    # Контроллеры
│   ├── middleware/     # Middleware
│   ├── models/         # Модели данных
│   ├── routes/         # Маршруты API
│   ├── services/       # Бизнес-логика
│   ├── utils/          # Утилиты
│   └── index.js        # Точка входа
├── tests/              # Тесты
├── .env.example        # Пример переменных окружения
├── package.json        # Зависимости и скрипты
└── README.md          # Документация
```

## Безопасность

- Все чувствительные данные хранятся в переменных окружения
- Используется JWT для аутентификации
- Реализована защита от основных атак (XSS, CSRF, SQL Injection)
- Настроен rate limiting
- Включено сжатие ответов

## Масштабирование

- Автоматическое масштабирование на основе нагрузки
- Кластеризация через Node.js cluster
- Кэширование через Redis
- Очереди для асинхронных операций

## Резервное копирование

Автоматическое резервное копирование выполняется ежедневно:
- MongoDB дамп
- Redis дамп
- Файлы загрузок

## Поддержка

При возникновении проблем:
1. Проверьте логи в директории `logs/`
2. Убедитесь, что все сервисы запущены
3. Проверьте настройки в `.env`
4. Создайте issue в репозитории

## Лицензия

MIT 